1. Найденные логические противоречия и недочеты:

- Пункт 2 утверждает, что для удаления товара используется отдельная кнопка, и минимальное количество — 1. 
  Пункт 9 говорит, что при уменьшении количества до 0 товар удаляется 
  (Прямое противоречие в механизме удаления)

- Пункт 7 фиксирует цену на момент добавления
  Пункт 13 требует автоматического обновления цены по каталогу
  (Противоречие в бизнес-логике)

- Пункт 1 говорит о лимите 10 единиц одного товара
  Пункт 4 — о лимите 20 единиц всех товаров
  (Вместе они создают неочевидное поведение. Пример: если в корзине 2 разных товара по 10 штук, лимит из пункта 1 не превышен. Добавить третий товар уже нельзя, даже 1 единицу, так как нарушится пункт 4. Но ясна ли эта логика пользователю? Требуется уточнение)  

- Пункт 1 грамматически и логически ошибочная формулировка «не менее, чем до 1-го»

- Пункт 3: «Не более 5 различных товаров». Что считается «различным»? Разные ID товара? Разные модификации (цвет, размер) одного базового товара? Просится уточнение

- Пункт 6: Сообщение «Лимит корзины превышен» слишком общее. Пользователь не поймет, какой именно лимит: на общее количество (20), на количество разных товаров (5) или на количество единиц конкретного товара (10). Нужны более информативные сообщения
Так де воник вопрос что происходит при попытке добавить товар, которого нет на складе?

- Пункт 10 и Пункт 11: Реклама «может быть» / «должна быть». Противоречие в обязательности. Плюс: нет чётких рамок «утро/вечер», не указано время (локальное пользователя или серверное), нет учёта часовых поясов и региональных праздников. Это требование к UI/логике корзины или к отдельному рекламному модулю? 

- После пункта 11 сразу идет пункт 13. Опечатка или пропущен 12 пункт?





2. Исправленная версия фрагмента ТЗ

1. Добавление товара:
1.1. Пользователь может добавить в корзину от 1 до 10 единиц одного товара за одно действие
1.2. В корзине может храниться не более 5 различных товарных позиций
1.3. Суммарное количество всех единиц товаров в корзине не может превышать 20 (двадцати) штук

2. Управление количеством и удаление:
2.1. Для каждого товара в корзине отображается:
  - Кнопка уменьшения количества (-)
  - Поле с текущим количеством (редактируемое)
  - Кнопка увеличения количества (+)
  - Отдельная кнопка «Удалить» 
2.2. Изменение количества:
  - Минимальное значение в поле — 1.
  - При нажатии на -, когда значение равно 1, или при нажатии кнопки «Удалить» — товар немедленно удаляется из корзины после подтверждения пользователя
  - При попытке вручную ввести 0 и покинуть поле — товар удаляется (с подтверждением)
2.3. При попытке увеличить количество сверх лимитов (максимум для товара, общий максимум, максимум позиций) система блокирует действие и показывает соответствующее информативное сообщение

3. Ценообразование:
3.1. Цена товара фиксируется на момент его добавления в корзину и не изменяется в течение 24 часов или до момента обновления страницы каталога пользователем

4. Обработка ошибок и лимитов:
4.1. При попытке добавить товар, превышающий какой-либо лимит, система показывает всплывающее сообщение с указанием конкретной причины:
  - «Достигнут лимит в 5 разных товаров в корзине. Удалите один из товаров, чтобы добавить новый.»
  - «В корзине уже 20 товаров. Общий лимит корзины — 20 единиц.»
  - «Нельзя добавить более 10 единиц одного товара.»
4.2. При попытке добавить товар, отсутствующий на складе, система показывает сообщение: «Товар временно недоступен»

5. Отображение информации:
5.1. На странице корзины для каждой позиции отображается: изображение товара, название, выбранные атрибуты (цвет, размер), цена за единицу, количество, общая стоимость позиции.
5.2. Внизу страницы отображается сводный блок с итогами: Общая стоимость товаров, скидка (если есть), стоимость доставки, Итоговая сумма к оплате
5.3. В сводном блоке находится кнопка «Перейти к оформлению»

6. Дополнительные функции.
6.1. В интерфейсе корзины предусмотрено место для блока «Рекомендуемые товары» или «С этим товаром покупают»
6.2. Логика отображения рекламных блоков определяется отдельным рекламным модулем и не влияет на основные функции корзины
6.3. Корзина сохраняется между сессиями для авторизованных пользователей. Для гостей — в течение сессии браузера.




3. Уточняющие вопросы к продукт-менеджеру/заказчику:

- О противоречии в цене: Какой принцип ценообразования в корзине является приоритетным для бизнеса?
  Вариант А: Цена фиксируется на момент добавления (защита пользователя от повышения цены во время покупок, но риск для маржи при распродажах)
  Вариант Б: Цена всегда актуальная и синхронизируется с каталогом (риск брошенных корзин из-за внезапного роста цены)
  Вариант В: Компромиссный — цена фиксируется на N часов или до конца сессии

  Если цена в каталоге снизилась после добавления в корзину — применять ли выгоду для пользователя?

- О составе товара: Что считается «различным товаром»? 
  Разные артикулы, например, «Футболка синяя, M» и «Футболка синяя, L» — это 2 разные позиции в корзине?
  
- О синхронизации с наличием: Что должно происходить, если после добавления в корзину товар закончился на складе или его остаток стал меньше количества в корзине? 
  Уведомлять пользователя в корзине? Автоматически уменьшать количество?

- О рекламном блоке: Каковы конкретные бизнес-цели блока рекомендаций в корзине (увеличить средний чек, предложить замену)? 
  Требования из пункта 11 («будние дни по утрам и вечерам») — это техническая деталь или попытка сформулировать желание показывать рекламу чаще? Нужно ли управлять этим из CRM/     админки?

- О расширении функционала: Планируется ли в ближайшем будущем внедрение купонов, промокодов, накопительных скидок или программ лояльности, интегрированных с корзиной? 
  (Чтобы заложить это в архитектуру)
  Требуется ли кнопка «Очистить корзину»? Если да — с подтверждением?

- О лимитах: Какая бизнес-цель стоит за каждым лимитом (5, 10, 20)? Можно ли их гибко менять в админке? 
  Это технические ограничения или маркетинговые (например, для борьбы с оптовыми закупками через розничный интерфейс)? 

  При одновременном нарушении нескольких лимитов (например, 6-й уникальный товар + превышение общего количества) — показывать все нарушенные условия или только первое?

  Ограничение 1–10 шт относится к одной операции добавления или к итоговому количеству товара в корзине? Что делать при добавлении к уже имеющемуся товару?
  (например, в корзине уже 9 шт., добавляют 3): отклонять всю операцию или добавлять максимально возможное количество (1   шт.) с уведомлением?

- Пропущен пункт 12 в исходном ТЗ — есть ли дополнительные требования, которые необходимо учесть?


